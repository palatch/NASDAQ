
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>TSLA & TSLS Buy/Sell Alert (Finnhub)</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <style>
    body { font-family: Arial, sans-serif; background: #f4f4f4; padding: 20px; }
    h2 { font-size: 1.5em; }
    .price-box, .signal-box {
      padding: 15px; margin-top: 15px; border-radius: 10px;
      font-size: 1.2em; font-weight: bold;
    }
    .price-box { background: #fff; border: 2px solid #ccc; }
    .buy { background: #f8d7da; border: 2px solid #dc3545; color: #721c24; }
    .sell { background: #d1ecf1; border: 2px solid #0c5460; color: #0c5460; }
    .wait { background: #fff3cd; border: 2px solid #ffeeba; color: #856404; }
    .error { background: #f5c6cb; border: 2px solid #721c24; color: #721c24; }
  </style>
</head>
<body>
  <h2>üìà TSLA & TSLS Buy/Sell Alerts (Live via Finnhub)</h2>

  <div id="tslaPrice" class="price-box">‚è≥ Loading TSLA price‚Ä¶</div>
  <div id="tslaSignal" class="signal-box">Checking TSLA...</div>

  <div id="tslsPrice" class="price-box">‚è≥ Loading TSLS price‚Ä¶</div>
  <div id="tslsSignal" class="signal-box">Checking TSLS...</div>

  <script>
    const apiKey = "d24u9h9r01qu2jgk36cgd24u9h9r01qu2jgk36d0";  // Replace with your Finnhub API key
    const baseUrl = "https://finnhub.io/api/v1/quote?symbol=";

    function fetchData(symbol, priceId, signalId, buy, sell) {
      fetch(`${baseUrl}${symbol}&token=${apiKey}`)
        .then(response => response.json())
        .then(data => {
          const price = parseFloat(data.c); // current price
          document.getElementById(priceId).innerHTML = `‚úÖ ${symbol} current price: <strong>$${price.toFixed(2)}</strong>`;
          evaluate(symbol, price, signalId, buy, sell);
        })
        .catch(err => {
          document.getElementById(priceId).innerHTML = `‚ùå Error loading ${symbol} price`;
          document.getElementById(signalId).className = "signal-box error";
          document.getElementById(signalId).innerHTML = `‚ö†Ô∏è Failed to fetch ${symbol} data`;
        });
    }

    function evaluate(symbol, price, signalId, buy, sell) {
      const box = document.getElementById(signalId);
      if (price <= buy) {
        box.className = "signal-box buy";
        box.innerHTML = `üî¥ ${symbol} dropped below $${buy} ‚Üí <strong>BUY NOW!</strong>`;
      } else if (price >= sell) {
        box.className = "signal-box sell";
        box.innerHTML = `üîµ ${symbol} exceeded $${sell} ‚Üí <strong>SELL NOW!</strong>`;
      } else {
        box.className = "signal-box wait";
        box.innerHTML = `‚è≥ ${symbol} is between $${buy+1}‚Äì$${sell-1} ‚Üí <strong>WAIT</strong>`;
      }
    }

    fetchData("TSLA", "tslaPrice", "tslaSignal", 310, 330);
    fetchData("TSLS", "tslsPrice", "tslsSignal", 7, 9.5);
  </script>
</body>
</html>
