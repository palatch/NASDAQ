<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#0D1117">
  <title>Dime Logger ‚Äì Advisor v-advice-2025-08-09</title>
  <link rel="manifest" href="manifest.webmanifest?v=v-advice-2025-08-09">
  <link rel="apple-touch-icon" href="icon-192.png">
  <script>
    window.APP_VERSION = "v-advice-2025-08-09";
    window.FINNHUB_API_KEY = "d24u9h9r01qu2jgk36cgd24u9h9r01qu2jgk36d0";
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
  <style>
    :root {
      --bg: #0D1117; --panel:#0f131a; --line:#1f2632; --text:#E6EDF3; --muted:#9AA4B2;
      --green:#00C087; --red:#F05454; --orange:#ffa726;
    }
    body { background:var(--bg); color:var(--text); }
    .card { background:#0f131a; border:1px solid var(--line); border-radius:16px; }
    input, select { background:#0e1420; color:var(--text); border:1px solid var(--line); border-radius:12px; }
    .btn { border-radius:12px; }
    .btn-primary { background:var(--green); color:#062b21; font-weight:700; }
    .pill { background:#0f1726; border:1px solid #223048; border-radius:999px; padding:.35rem .6rem; }
    .header { background:#0c121b; border-bottom:1px solid var(--line); }
    .muted { color:var(--muted); }
    .badge { font-size:11px; padding:.2rem .5rem; border-radius:999px; border:1px solid var(--line); }
    .badge-earn { background:#1a1410; border-color:#3a2a18; color:#ffcc80; }
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <header class="header p-4 sticky top-0 z-30">
    <div class="flex items-center justify-between">
      <div class="font-bold text-lg">Dime Logger ‚Äî Advisor</div>
      <div class="text-xs muted">‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô: <span id="ver">v-advice-2025-08-09</span></div>
    </div>
    <div class="text-[11px] muted mt-1">‡∏≠‡∏±‡∏õ‡∏†‡∏≤‡∏û Dime ‚Üí ‡∏ß‡∏¥‡πÄ‡∏Ñ‡∏£‡∏≤‡∏∞‡∏´‡πå ‚Üí ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ç‡∏≤‡∏¢/‡∏ñ‡∏∑‡∏≠</div>
  </header>

  <main class="flex-1 p-4 space-y-4">
    <!-- OCR FIRST -->
    <section class="card p-4">
      <h2 class="font-semibold mb-2">üì∑ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏à‡∏≤‡∏Å Dime (OCR)</h2>
      <input id="ocrFile" type="file" accept="image/*" capture="environment" class="block w-full text-sm">
      <div id="ocrStatus" class="text-xs muted mt-1"></div>
    </section>

    <!-- Settings -->
    <section class="card p-4">
      <h2 class="font-semibold">‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Å‡∏≤‡∏£‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h2>
      <div class="grid grid-cols-3 gap-2 mt-2 text-sm">
        <label>‡πÄ‡∏õ‡πâ‡∏≤‡∏Å‡∏≥‡πÑ‡∏£ %<input id="setTP" type="number" step="0.1" value="5" class="w-full mt-1 px-2 py-2"></label>
        <label>‡∏ï‡∏±‡∏î‡∏Ç‡∏≤‡∏î‡∏ó‡∏∏‡∏ô %<input id="setSL" type="number" step="0.1" value="10" class="w-full mt-1 px-2 py-2"></label>
        <label>‡∏á‡∏ö‡πÉ‡∏Å‡∏•‡πâ‡∏≠‡∏≠‡∏Å (‡∏ß‡∏±‡∏ô)<input id="setE" type="number" step="1" value="3" class="w-full mt-1 px-2 py-2"></label>
      </div>
    </section>

    <!-- Quick add trade -->
    <section class="card p-4">
      <div class="flex items-center justify-between">
        <h2 class="font-semibold">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏ã‡∏∑‡πâ‡∏≠‚Äì‡∏Ç‡∏≤‡∏¢ (Quick Add)</h2>
        <span class="text-xs pill muted">‡πÄ‡∏Å‡πá‡∏ö‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</span>
      </div>
      <div class="grid grid-cols-2 gap-2 mt-3">
        <input id="tradeDate" type="date" title="‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà">
        <input id="tradeSymbol" placeholder="‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå ‡πÄ‡∏ä‡πà‡∏ô TSLA" title="‡∏™‡∏±‡∏ç‡∏•‡∏±‡∏Å‡∏©‡∏ì‡πå">
        <select id="tradeSide" title="‡∏ù‡∏±‡πà‡∏á‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á">
          <option value="BUY">BUY</option>
          <option value="SELL">SELL</option>
        </select>
        <input id="tradeQty" type="number" step="0.000001" placeholder="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô (‡∏´‡∏∏‡πâ‡∏ô/‡∏´‡∏ô‡πà‡∏ß‡∏¢)" title="‡∏à‡∏≥‡∏ô‡∏ß‡∏ô">
        <input id="tradePrice" type="number" step="0.0001" placeholder="‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏´‡∏∏‡πâ‡∏ô (USD)" title="‡∏£‡∏≤‡∏Ñ‡∏≤">
        <input id="tradeFee" type="number" step="0.01" placeholder="‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏° (USD)" title="‡∏Ñ‡πà‡∏≤‡∏ò‡∏£‡∏£‡∏°‡πÄ‡∏ô‡∏µ‡∏¢‡∏°">
        <input id="tradeNote" placeholder="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏ (‡πÑ‡∏°‡πà‡∏ö‡∏±‡∏á‡∏Ñ‡∏±‡∏ö)" title="‡∏´‡∏°‡∏≤‡∏¢‡πÄ‡∏´‡∏ï‡∏∏">
      </div>
      <div class="mt-3 flex gap-2 flex-wrap">
        <button id="btnAddTrade" class="btn btn-primary px-4 py-2">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
        <button id="btnExportCsv" class="btn px-3 py-2 bg-[#1f2632] hover:opacity-90">Export CSV</button>
        <button id="btnClearAll" class="btn px-3 py-2" style="background:#2a171a; color:#f2b8b8;">‡∏•‡πâ‡∏≤‡∏á‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î</button>
      </div>
    </section>

    <!-- Portfolio summary + recommendations -->
    <section class="card p-4">
      <div class="flex items-center justify-between">
        <h2 class="font-semibold">‡∏™‡∏£‡∏∏‡∏õ‡∏û‡∏≠‡∏£‡πå‡∏ï & ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h2>
        <div class="text-xs muted">‡πÄ‡∏£‡∏µ‡∏¢‡∏á: ‡∏ñ‡∏∑‡∏≠‡∏≠‡∏¢‡∏π‡πà‡∏°‡∏≤‡∏Å ‚Üí ‡∏ô‡πâ‡∏≠‡∏¢ ¬∑ ‡∏°‡∏µ‡∏õ‡πâ‡∏≤‡∏¢ ‚Äú‡∏á‡∏ö‡πÉ‡∏Å‡∏•‡πâ‡∏≠‡∏≠‡∏Å‚Äù</div>
      </div>
      <div id="portfolio" class="mt-3 grid grid-cols-1 gap-3"></div>
    </section>
  </main>

  <footer class="p-4 text-center text-xs muted">
    ‡πÑ‡∏°‡πà‡∏°‡∏µ‡∏Å‡∏≤‡∏£‡∏£‡∏±‡∏ö‡∏õ‡∏£‡∏∞‡∏Å‡∏±‡∏ô‡∏ú‡∏•‡∏Å‡∏≥‡πÑ‡∏£ ‡∏Å‡∏≤‡∏£‡∏•‡∏á‡∏ó‡∏∏‡∏ô‡∏°‡∏µ‡∏Ñ‡∏ß‡∏≤‡∏°‡πÄ‡∏™‡∏µ‡πà‡∏¢‡∏á ¬∑ PWA ‡∏ó‡∏≥‡∏á‡∏≤‡∏ô‡∏≠‡∏≠‡∏ü‡πÑ‡∏•‡∏ô‡πå‡∏ö‡∏≤‡∏á‡∏™‡πà‡∏ß‡∏ô
  </footer>

  <script src="app.js?v=v-advice-2025-08-09"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', () => navigator.serviceWorker.register('./sw.js?v=v-advice-2025-08-09'));
    }
  </script>
</body>
</html>
