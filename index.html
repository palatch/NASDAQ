
<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="UTF-8" />
  <title>‡πÄ‡∏ó‡∏£‡∏î TSLA / TSLS</title>
  <meta name="viewport" content="width=device-width,initial-scale=1" />
  <style>
    body{margin:0;font-family:sans-serif;background:#0d1117;color:#c9d1d9;padding:10px}
    .box{border:2px solid #00ff99;border-radius:12px;padding:15px;margin-bottom:15px;background:#161b22}
    .header{font-size:1.3em;color:#39ff14;margin-bottom:10px}
    button{background:#00ff99;color:#000;border:none;padding:8px 12px;border-radius:6px;cursor:pointer;margin:5px 0}
    table{width:100%;border-collapse:collapse;margin-top:20px;font-size:0.9em}
    th,td{border:1px solid #333;padding:6px;text-align:center}
    th{background:#1e1e1e;color:#00ff99}
    #popup{position:fixed;top:30%;left:50%;transform:translate(-50%,-50%);background:#1f6feb;color:#fff;padding:20px;border-radius:8px;display:none;z-index:10}
    @media(max-width:480px){.box{margin:5px;padding:10px}}
  </style>
</head>
<body>
  <div id="popup"></div>
  <div class="box" id="box-TSLA">
    <div class="header">TSLA / USD</div>
    <div>üìà ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span id="price-TSLA">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span></div>
    <div>‡∏ó‡∏∏‡∏ô:
      <select id="inv-TSLA"><option>50</option><option>100</option><option>500</option></select> USD
    </div>
    <div><button onclick="buy('TSLA')">‡∏ã‡∏∑‡πâ‡∏≠</button><button onclick="sell('TSLA')">‡∏Ç‡∏≤‡∏¢</button></div>
  </div>
  <div class="box" id="box-TSLS">
    <div class="header">TSLS / USD</div>
    <div>üìà ‡∏£‡∏≤‡∏Ñ‡∏≤‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô: <span id="price-TSLS">‡∏Å‡∏≥‡∏•‡∏±‡∏á‡πÇ‡∏´‡∏•‡∏î...</span></div>
    <div>‡∏ó‡∏∏‡∏ô:
      <select id="inv-TSLS"><option>50</option><option>100</option><option>500</option></select> USD
    </div>
    <div><button onclick="buy('TSLS')">‡∏ã‡∏∑‡πâ‡∏≠</button><button onclick="sell('TSLS')">‡∏Ç‡∏≤‡∏¢</button></div>
  </div>
  <div>
    <h3>üìã ‡∏õ‡∏£‡∏∞‡∏ß‡∏±‡∏ï‡∏¥‡∏ã‡∏∑‡πâ‡∏≠‚Äì‡∏Ç‡∏≤‡∏¢</h3>
    <table>
      <thead><tr><th>‡∏ß‡∏±‡∏ô‡∏ó‡∏µ‡πà</th><th>‡∏´‡∏∏‡πâ‡∏ô</th><th>‡∏ó‡∏∏‡∏ô</th><th>‡∏£‡∏≤‡∏Ñ‡∏≤</th><th>‡∏´‡∏∏‡πâ‡∏ô</th><th>‡∏Å‡∏≥‡πÑ‡∏£</th></tr></thead>
      <tbody id="history"></tbody>
    </table>
  </div>
  <div id="chartContainer" style="height:300px;margin-top:20px;"></div>

<script src="https://unpkg.com/lightweight-charts@3.5.0/dist/lightweight-charts.standalone.production.js"></script>
<script>
const key="d24u9h9r01qu2jgk36cgd24u9h9r01qu2jgk36d0";
const symbols=["TSLA","TSLS"];
const data={};
async function fetchAll(){
  for(let s of symbols){
    const r=await fetch(`https://finnhub.io/api/v1/quote?symbol=${s}&token=${key}`);
    const j=await r.json();
    data[s]=j.c;
    document.getElementById("price-"+s).textContent="$"+j.c.toFixed(2);
  }
}
function saveLog(e){
  const arr=JSON.parse(localStorage.getItem("log")||"[]");
  arr.push(e);
  localStorage.setItem("log",JSON.stringify(arr));
  renderHistory();
}
function buy(s){
  const inv=+document.getElementById("inv-"+s).value;
  const p=data[s];
  const qty=inv/p;
  saveLog({time:new Date().toLocaleString(),s,inv,p,qty:qty.toFixed(4),type:"BUY"});
}
function sell(s){
  const inv=+document.getElementById("inv-"+s).value;
  const p=data[s];
  const qty=inv/p;
  const profit=(qty*(p - (inv/qty))).toFixed(2);
  saveLog({time:new Date().toLocaleString(),s,inv,p,qty:qty.toFixed(4),type:"SELL",profit});
  if(profit>=5)popup(s+" ‡∏ñ‡∏∂‡∏á‡∏à‡∏∏‡∏î‡∏Ç‡∏≤‡∏¢‡πÅ‡∏•‡πâ‡∏ß üéØ");
}
function renderHistory(){
  const arr=JSON.parse(localStorage.getItem("log")||"[]");
  const tb=document.getElementById("history");
  tb.innerHTML="";
  for(let e of arr.reverse()){
    tb.innerHTML+=`<tr><td>${e.time}</td><td>${e.s}</td><td>$${e.inv}</td><td>$${e.p.toFixed(2)}</td><td>${e.qty}</td><td>${e.profit||""}</td></tr>`;
  }
}
function popup(txt){const p=document.getElementById("popup");p.textContent=txt;p.style.display="block";setTimeout(()=>p.style.display="none",3000);}
fetchAll();renderHistory();setInterval(fetchAll,60000);
</script>
</body>
</html>
