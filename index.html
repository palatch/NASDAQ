<!DOCTYPE html>
<html lang="th">
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover" />
  <meta name="theme-color" content="#0D1117" />
  <title>Dime Advisor ‚Äî Bitkub</title>
  <link rel="manifest" href="manifest.webmanifest?v=advisor-v3-ocr-detail">
  <link rel="apple-touch-icon" href="icon-192.png" />
  <script>
    window.FINNHUB_API_KEY = "d24u9h9r01qu2jgk36cgd24u9h9r01qu2jgk36d0";
    window.APP_VERSION = "advisor-v3-ocr-detail";
  </script>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js@4.4.1/dist/chart.umd.min.js"></script>
  <script src="https://cdn.jsdelivr.net/npm/tesseract.js@5/dist/tesseract.min.js"></script>
  <style>
    :root{--bg:#0D1117;--panel:#0f131a;--line:#1f2632;--text:#E6EDF3;--muted:#9AA4B2;--green:#00C087;--red:#F05454;--amber:#ffb020}
    body{background:var(--bg);color:var(--text)}
    .card{background:#0f131a;border:1px solid var(--line);border-radius:16px}
    input,button{border-radius:12px}
    .btn{padding:.8rem 1rem;border-radius:12px}
    .btn-primary{background:var(--green);color:#062b21;font-weight:700}
    .pill{background:#0f1726;border:1px solid #223048;border-radius:999px;padding:.35rem .6rem}
    .muted{color:var(--muted)}
    .tag{font-size:11px;padding:.25rem .5rem;border-radius:999px}
    .t-red{background:#2a171a;color:#ffc9c9;border:1px solid #6a2b2f}
    .t-green{background:#10291f;color:#b9f6de;border:1px solid #1f6a50}
    .t-amber{background:#2a250f;color:#ffe7a3;border:1px solid #7a6820}
  </style>
</head>
<body class="min-h-screen flex flex-col">
  <header class="p-4 sticky top-0 z-30" style="background:#0c121b;border-bottom:1px solid var(--line)">
    <div class="flex items-center justify-between">
      <div class="font-bold text-lg">Dime Advisor ‚Äî Bitkub</div>
      <div class="text-xs muted">‡πÄ‡∏ß‡∏≠‡∏£‡πå‡∏ä‡∏±‡∏ô: <span id="ver"></span></div>
    </div>
    <div class="text-[11px] muted mt-1">‡∏≠‡∏±‡∏õ‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å Dime ‚Üí OCR ‡∏≠‡∏±‡∏ï‡πÇ‡∏ô‡∏°‡∏±‡∏ï‡∏¥ ¬∑ ‡∏Ñ‡∏≥‡∏ô‡∏ß‡∏ì‡∏Å‡∏≥‡πÑ‡∏£ ¬∑ ‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô‡∏á‡∏ö ¬∑ ‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥‡∏Ç‡∏≤‡∏¢/‡∏ñ‡∏∑‡∏≠ ¬∑ ‡∏™‡∏£‡∏∏‡∏õ‡∏õ‡∏±‡∏ô‡∏ú‡∏•</div>
  </header>

  <main class="flex-1 p-4 space-y-4">
    <section class="card p-4">
      <h2 class="font-semibold">üì∑ ‡∏≠‡∏±‡∏õ‡πÇ‡∏´‡∏•‡∏î‡∏†‡∏≤‡∏û‡∏à‡∏≤‡∏Å Dime (OCR ‡∏ö‡∏ô‡∏°‡∏∑‡∏≠‡∏ñ‡∏∑‡∏≠)</h2>
      <div class="grid grid-cols-1 sm:grid-cols-2 gap-2 mt-3">
        <label class="btn btn-primary text-center">
          <input id="fileList" type="file" accept="image/*" capture="environment" class="hidden">
          üìÑ ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏Å‡∏≤‡∏£‡∏ó‡∏±‡πâ‡∏á‡∏´‡∏°‡∏î
        </label>
        <label class="btn text-center" style="background:#09b076;color:#062b21;font-weight:700">
          <input id="fileDetail" type="file" accept="image/*" capture="environment" class="hidden">
          üßæ ‡∏´‡∏ô‡πâ‡∏≤‡∏£‡∏≤‡∏¢‡∏•‡∏∞‡πÄ‡∏≠‡∏µ‡∏¢‡∏î‡∏Ñ‡∏≥‡∏™‡∏±‡πà‡∏á
        </label>
      </div>
      <div id="ocrStatus" class="text-xs muted mt-2">‡∏¢‡∏±‡∏á‡πÑ‡∏°‡πà‡πÑ‡∏î‡πâ‡∏≠‡∏±‡∏õ‡∏†‡∏≤‡∏û</div>
    </section>

    <section class="card p-4">
      <h2 class="font-semibold">‡πÄ‡∏Å‡∏ì‡∏ë‡πå‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥ & ‡∏Å‡∏≤‡∏£‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</h2>
      <div class="grid grid-cols-3 gap-2 mt-2 text-sm">
        <div><label class="muted text-xs">TP %</label><input id="tp" type="number" step="0.1" value="5" class="w-full px-3 py-2"></div>
        <div><label class="muted text-xs">SL %</label><input id="sl" type="number" step="0.1" value="-10" class="w-full px-3 py-2"></div>
        <div><label class="muted text-xs">‡∏á‡∏ö‡πÉ‡∏Å‡∏•‡πâ‡∏≠‡∏≠‡∏Å (‡∏ß‡∏±‡∏ô)</label><input id="earnDays" type="number" step="1" value="3" class="w-full px-3 py-2"></div>
      </div>
      <div class="mt-2 flex gap-2">
        <button id="btnEnableNotify" class="px-3 py-2" style="background:#1f2632;border-radius:12px">‡∏≠‡∏ô‡∏∏‡∏ç‡∏≤‡∏ï‡πÅ‡∏à‡πâ‡∏á‡πÄ‡∏ï‡∏∑‡∏≠‡∏ô</button>
        <button id="btnRefresh" class="px-3 py-2" style="background:#1f2632;border-radius:12px">‡∏£‡∏µ‡πÄ‡∏ü‡∏£‡∏ä‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•</button>
      </div>
      <div class="text-xs muted mt-2">‡∏£‡∏∞‡∏ö‡∏ö‡∏à‡∏∞‡∏ï‡∏£‡∏ß‡∏à‡∏£‡∏≤‡∏Ñ‡∏≤/‡∏Å‡∏≥‡πÑ‡∏£‡∏ó‡∏∏‡∏Å ‡πÜ ~60 ‡∏ß‡∏¥‡∏ô‡∏≤‡∏ó‡∏µ ‡πÄ‡∏°‡∏∑‡πà‡∏≠‡πÄ‡∏õ‡∏¥‡∏î‡∏´‡∏ô‡πâ‡∏≤‡πÄ‡∏ß‡πá‡∏ö‡∏´‡∏£‡∏∑‡∏≠‡πÄ‡∏û‡∏¥‡πà‡∏°‡∏•‡∏á Home Screen (PWA)</div>
    </section>

    <section class="card p-4">
      <div class="flex items-center justify_between">
        <h2 class="font-semibold">‡∏û‡∏≠‡∏£‡πå‡∏ï‡∏Ç‡∏≠‡∏á‡∏â‡∏±‡∏ô & ‡∏Ñ‡∏≥‡πÅ‡∏ô‡∏∞‡∏ô‡∏≥</h2>
      </div>
      <div id="portfolio" class="mt-3 grid grid-cols-1 gap-3"></div>
    </section>

    <section class="card p-4">
      <h2 class="font-semibold">‡∏™‡∏£‡∏∏‡∏õ‡πÄ‡∏á‡∏¥‡∏ô‡∏õ‡∏±‡∏ô‡∏ú‡∏• (USD)</h2>
      <div id="divSummary" class="text-sm mt-2"></div>
      <canvas id="divChart" class="mt-3"></canvas>
    </section>

    <section class="card p-4">
      <h2 class="font-semibold">‡∏Ç‡πâ‡∏≠‡∏Ñ‡∏ß‡∏≤‡∏°‡∏à‡∏≤‡∏Å OCR (‡∏î‡∏µ‡∏ö‡∏±‡∏Å)</h2>
      <pre id="raw" class="text-xs whitespace-pre-wrap mt-2"></pre>
    </section>
  </main>

  <footer class="p-4 text-center text-xs muted">PWA ¬∑ ‡∏Ç‡πâ‡∏≠‡∏°‡∏π‡∏•‡πÄ‡∏Å‡πá‡∏ö‡πÄ‡∏â‡∏û‡∏≤‡∏∞‡πÉ‡∏ô‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á ¬∑ ‡πÑ‡∏°‡πà‡∏™‡πà‡∏á‡∏£‡∏π‡∏õ‡∏≠‡∏≠‡∏Å‡∏ô‡∏≠‡∏Å‡πÄ‡∏Ñ‡∏£‡∏∑‡πà‡∏≠‡∏á</footer>

  <script src="app.js?v=advisor-v3-ocr-detail"></script>
  <script>
    if('serviceWorker' in navigator){addEventListener('load',()=>navigator.serviceWorker.register('./sw.js?v=advisor-v3-ocr-detail')); }
    document.getElementById('ver').textContent = window.APP_VERSION;
  </script>
</body>
</html>
